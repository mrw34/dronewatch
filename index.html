<!DOCTYPE html>
<meta charset="utf-8">
<title>DroneWatch</title>
<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap.min.css" rel="stylesheet">
<link href="//cdn.leafletjs.com/leaflet-0.6.3/leaflet.css" rel="stylesheet">
<!--[if lte IE 8]>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.ie.css" />
<![endif]-->
<style>
  html, body, #map {
    height: 100%;
    width: 100%;
  }
  body {
    margin-top: 40px;
    overflow: hidden;
  }
</style>

<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="brand" href="#">DroneWatch</a>
    </div>
  </div>
</div>
<div id="map"></div>

<script src="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.js"></script>
<script>
  var map = L.map('map').setView([51.5072759, -0.1276597], 12);
  L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map data Â© OpenStreetMap contributors'
  }).addTo(map);
</script>
<script src="https://cdn.firebase.com/v0/firebase.js"></script>
<script>
  var myRootRef = new Firebase('https://dronewatch.firebaseio.com/');
  myRootRef.on('child_added', function(data) {
    if (data.val().coordinates) {
      L.marker(data.val().coordinates.coordinates.reverse()).addTo(map);
    }
  });
</script>
<script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
<script>
  $(window).resize(function () {
    $('#map').css('height', ($(window).height() - 40));
  }).resize();
</script>

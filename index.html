<!DOCTYPE html>
<meta charset="utf-8">
<title>DroneWatch</title>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.css" />
<!--[if lte IE 8]>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.ie.css" />
<![endif]-->
<style>
  html, body, #map {
    height: 100%;
  }
  body {
    margin: 0;
  }
</style>
<div id="map"></div>
<script src="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.js"></script>
<script>
  var map = L.map('map').setView([51.5072759, -0.1276597], 12);
  L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map data Â© OpenStreetMap contributors'
  }).addTo(map);
</script>
<script src="https://cdn.firebase.com/v0/firebase.js"></script>
<script>
  var myRootRef = new Firebase('https://dronewatch.firebaseio.com/');
  myRootRef.on('child_added', function(data) {
    if (data.val().coordinates) {
      L.marker(data.val().coordinates.coordinates.reverse()).addTo(map);
    }
  });
</script>
